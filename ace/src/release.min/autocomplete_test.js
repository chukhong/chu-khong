"undefined"!=typeof process&&(require("amd-loader"),require("./test/mockdom"));var ace=require("./ace"),assert=require("./test/assertions");require("./ext/language_tools"),module.exports={"test: highlighting in the popup":function(o){var r,e=ace.edit(null,{value:"\narraysort alooooooooooooooooooooooooooooong_word",maxLines:10,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0});function a(a,t){var n=e.completer.popup;n.renderer.on("afterRender",function o(){var e=n.renderer.$textLayer.element.innerHTML.replace(/\s*style="[^"]+"|class=|(d)iv|(s)pan/g,"$1$2");e!=r&&(assert.equal(e,a),r=e,n.renderer.off("afterRender",o),t())})}document.body.appendChild(e.container),assert.ok(!e.container.querySelector("style")),e.renderer.$themeId="./theme/textmate",e.execCommand("insertstring","a"),a('<d "ace_line ace_selected"><s "ace_completion-highlight">a</s><s "ace_">rraysort</s><s "ace_completion-meta">local</s></d><d "ace_line"><s "ace_completion-highlight">a</s><s "ace_">looooooooooooooooooooooooooooong_word</s><s "ace_completion-meta">local</s></d>',function(){e.execCommand("insertstring","rr"),a('<d "ace_line ace_selected"><s "ace_completion-highlight">arr</s><s "ace_">aysort</s><s "ace_completion-meta">local</s></d>',function(){e.execCommand("insertstring","r"),a('<d "ace_line ace_selected"><s "ace_completion-highlight">arr</s><s "ace_">ayso</s><s "ace_completion-highlight">r</s><s "ace_">t</s><s "ace_completion-meta">local</s></d>',function(){e.onCommandKey(null,0,13),assert.equal(e.getValue(),"arraysort\narraysort alooooooooooooooooooooooooooooong_word"),e.execCommand("insertstring"," looooooooooooooooooooooooooooong_"),a('<d "ace_line ace_selected"><s "ace_">a</s><s "ace_completion-highlight">looooooooooooooooooooooooooooong_</s><s "ace_">word</s><s "ace_completion-meta">local</s></d>',function(){e.onCommandKey(null,0,13),e.destroy(),e.container.remove(),o()})})})})}},"undefined"!=typeof module&&module===require.main&&require("asyncjs").test.testcase(module.exports).exec();