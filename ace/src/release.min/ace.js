"use strict";var dom=require("./lib/dom"),event=require("./lib/event"),Range=require("./range").Range,Editor=require("./editor").Editor,EditSession=require("./edit_session").EditSession,UndoManager=require("./undomanager").UndoManager,Renderer=require("./virtual_renderer").VirtualRenderer;require("./worker/worker_client"),require("./keyboard/hash_handler"),require("./placeholder"),require("./multi_select"),require("./mode/folding/fold_mode"),require("./theme/textmate"),require("./ext/error_marker"),exports.config=require("./config"),exports.edit=function(e,r){if("string"==typeof e){var n=e;if(!(e=document.getElementById(n)))throw new Error("ace.edit can't find div #"+n)}var t,i;return e&&e.env&&e.env.editor instanceof Editor?e.env.editor:(n="",e&&/input|textarea/i.test(e.tagName)?(n=(t=e).value,e=dom.createElement("pre"),t.parentNode.replaceChild(e,t)):e&&(n=e.textContent,e.innerHTML=""),n=exports.createEditSession(n),e=new Editor(new Renderer(e),n,r),i={document:n,editor:e,onResize:e.resize.bind(e,null)},t&&(i.textarea=t),event.addListener(window,"resize",i.onResize),e.on("destroy",function(){event.removeListener(window,"resize",i.onResize),i.editor.container.env=null}),e.container.env=e.env=i,e)},exports.createEditSession=function(e,r){e=new EditSession(e,r);return e.setUndoManager(new UndoManager),e},exports.Range=Range,exports.Editor=Editor,exports.EditSession=EditSession,exports.UndoManager=UndoManager,exports.VirtualRenderer=Renderer,exports.version=exports.config.version;