"undefined"!=typeof process&&require("amd-loader");var EditSession=require("./edit_session").EditSession,JavaScriptMode=require("./mode/javascript").Mode,TokenIterator=require("./token_iterator").TokenIterator,assert=require("./test/assertions");module.exports={"test: token iterator initialization in JavaScript document":function(){var e=new EditSession(["function foo(items) {","    for (var i=0; i<items.length; i++) {",'        alert(items[i] + "juhu");',"    } // Real Tab.","}"].join("\n"),new JavaScriptMode),t=new TokenIterator(e,0,0),t=(assert.equal(t.getCurrentToken().value,"function"),assert.equal(t.getCurrentTokenRow(),0),assert.equal(t.getCurrentTokenColumn(),0),t.stepForward(),assert.equal(t.getCurrentToken().value," "),assert.equal(t.getCurrentTokenRow(),0),assert.equal(t.getCurrentTokenColumn(),8),new TokenIterator(e,0,4)),t=(assert.equal(t.getCurrentToken().value,"function"),assert.equal(t.getCurrentTokenRow(),0),assert.equal(t.getCurrentTokenColumn(),0),t.stepForward(),assert.equal(t.getCurrentToken().value," "),assert.equal(t.getCurrentTokenRow(),0),assert.equal(t.getCurrentTokenColumn(),8),new TokenIterator(e,2,18)),t=(assert.equal(t.getCurrentToken().value,"items"),assert.equal(t.getCurrentTokenRow(),2),assert.equal(t.getCurrentTokenColumn(),14),t.stepForward(),assert.equal(t.getCurrentToken().value,"["),assert.equal(t.getCurrentTokenRow(),2),assert.equal(t.getCurrentTokenColumn(),19),new TokenIterator(e,4,0)),t=(assert.equal(t.getCurrentToken().value,"}"),assert.equal(t.getCurrentTokenRow(),4),assert.equal(t.getCurrentTokenColumn(),0),t.stepBackward(),assert.equal(t.getCurrentToken().value,"// Real Tab."),assert.equal(t.getCurrentTokenRow(),3),assert.equal(t.getCurrentTokenColumn(),6),new TokenIterator(e,5,0));assert.equal(t.getCurrentToken(),null)},"test: token iterator initialization in text document":function(){var e=["Lorem ipsum dolor sit amet, consectetur adipisicing elit,","sed do eiusmod tempor incididunt ut labore et dolore magna","aliqua. Ut enim ad minim veniam, quis nostrud exercitation","ullamco laboris nisi ut aliquip ex ea commodo consequat."],t=new EditSession(e.join("\n")),r=new TokenIterator(t,0,0),r=(assert.equal(r.getCurrentToken().value,e[0]),assert.equal(r.getCurrentTokenRow(),0),assert.equal(r.getCurrentTokenColumn(),0),new TokenIterator(t,0,4)),r=(assert.equal(r.getCurrentToken().value,e[0]),assert.equal(r.getCurrentTokenRow(),0),assert.equal(r.getCurrentTokenColumn(),0),new TokenIterator(t,2,18)),r=(assert.equal(r.getCurrentToken().value,e[2]),assert.equal(r.getCurrentTokenRow(),2),assert.equal(r.getCurrentTokenColumn(),0),new TokenIterator(t,3,e[3].length-1)),r=(assert.equal(r.getCurrentToken().value,e[3]),assert.equal(r.getCurrentTokenRow(),3),assert.equal(r.getCurrentTokenColumn(),0),new TokenIterator(t,4,0));assert.equal(r.getCurrentToken(),null)},"test: token iterator step forward in JavaScript document":function(){for(var e=new EditSession(["function foo(items) {","    for (var i=0; i<items.length; i++) {",'        alert(items[i] + "juhu");',"    } // Real Tab.","}"].join("\n"),new JavaScriptMode),t=[],r=e.getLength(),n=0;n<r;n++)t=t.concat(e.getTokens(n));for(var a=new TokenIterator(e,0,0),n=1;n<t.length;n++)assert.equal(a.stepForward(),t[n]);assert.equal(a.stepForward(),null),assert.equal(a.getCurrentToken(),null)},"test: token iterator step backward in JavaScript document":function(){for(var e=new EditSession(["function foo(items) {","     for (var i=0; i<items.length; i++) {",'         alert(items[i] + "juhu");',"     } // Real Tab.","}"].join("\n"),new JavaScriptMode),t=[],r=e.getLength(),n=0;n<r;n++)t=t.concat(e.getTokens(n));for(var a=new TokenIterator(e,4,0),n=t.length-2;0<=n;n--)assert.equal(a.stepBackward(),t[n]);assert.equal(a.stepBackward(),null),assert.equal(a.getCurrentToken(),null)},"test: token iterator reports correct row and column":function(){var e=new EditSession(["function foo(items) {","    for (var i=0; i<items.length; i++) {",'        alert(items[i] + "juhu");',"    } // Real Tab.","}"].join("\n"),new JavaScriptMode),e=new TokenIterator(e,0,0);e.stepForward(),e.stepForward(),assert.equal(e.getCurrentToken().value,"foo"),assert.equal(e.getCurrentTokenRow(),0),assert.equal(e.getCurrentTokenColumn(),9),e.stepForward(),e.stepForward(),e.stepForward(),e.stepForward(),e.stepForward(),e.stepForward(),e.stepForward(),assert.equal(e.getCurrentToken().value,"for"),assert.equal(e.getCurrentTokenRow(),1),assert.equal(e.getCurrentTokenColumn(),4)}},"undefined"!=typeof module&&module===require.main&&require("asyncjs").test.testcase(module.exports).exec();