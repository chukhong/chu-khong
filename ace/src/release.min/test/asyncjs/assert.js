var oop=require("ace/lib/oop"),pSlice=Array.prototype.slice,assert=exports;function fail(t,e,r,n,s){throw new assert.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:s})}function _deepEqual(t,e){if(t===e)return!0;if("undefined"!=typeof Buffer&&Buffer.isBuffer(t)&&Buffer.isBuffer(e)){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():"object"!=typeof t&&"object"!=typeof e?t==e:objEquiv(t,e)}function isUndefinedOrNull(t){return null==t}function isArguments(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function objEquiv(t,e){if(isUndefinedOrNull(t)||isUndefinedOrNull(e))return!1;if(t.prototype!==e.prototype)return!1;if(isArguments(t))return!!isArguments(e)&&_deepEqual(t=pSlice.call(t),e=pSlice.call(e));try{var r,n,s=Object.keys(t),o=Object.keys(e)}catch(t){return!1}if(s.length!=o.length)return!1;for(s.sort(),o.sort(),n=s.length-1;0<=n;n--)if(s[n]!=o[n])return!1;for(n=s.length-1;0<=n;n--)if(!_deepEqual(t[r=s[n]],e[r]))return!1;return!0}function expectedException(t,e){return!(!t||!e)&&(e instanceof RegExp?e.test(t):t instanceof e||!0===e.call({},t))}function _throws(t,e,r,n){var s;"string"==typeof r&&(n=r,r=null);try{e()}catch(t){s=t}if(n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!s&&fail("Missing expected exception"+n),!t&&expectedException(s,r)&&fail("Got unwanted exception"+n),t&&s&&r&&!expectedException(s,r)||!t&&s)throw s}assert.AssertionError=function(t){this.name="AssertionError",this.message=t.message,this.actual=t.actual,this.expected=t.expected,this.operator=t.operator;t=t.stackStartFunction||fail;Error.captureStackTrace&&Error.captureStackTrace(this,t)},oop.inherits(assert.AssertionError,Error),toJSON=function(t){return"undefined"!=typeof JSON?JSON.stringify(t):t.toString()},assert.AssertionError.prototype.toString=function(){return(this.message?[this.name+":",this.message]:[this.name+":",toJSON(this.expected),this.operator,toJSON(this.actual)]).join(" ")},assert.AssertionError.__proto__=Error.prototype,assert.fail=fail,assert.ok=function(t,e){t||fail(t,!0,e,"==",assert.ok)},assert.equal=function(t,e,r){t!=e&&fail(t,e,r,"==",assert.equal)},assert.notEqual=function(t,e,r){t==e&&fail(t,e,r,"!=",assert.notEqual)},assert.deepEqual=function(t,e,r){_deepEqual(t,e)||fail(t,e,r,"deepEqual",assert.deepEqual)},assert.notDeepEqual=function(t,e,r){_deepEqual(t,e)&&fail(t,e,r,"notDeepEqual",assert.notDeepEqual)},assert.strictEqual=function(t,e,r){t!==e&&fail(t,e,r,"===",assert.strictEqual)},assert.notStrictEqual=function(t,e,r){t===e&&fail(t,e,r,"!==",assert.notStrictEqual)},assert.throws=function(t,e,r){_throws.apply(this,[!0].concat(pSlice.call(arguments)))},assert.doesNotThrow=function(t,e,r){_throws.apply(this,[!1].concat(pSlice.call(arguments)))},assert.ifError=function(t){if(t)throw t};