"undefined"!=typeof process&&require("amd-loader");var editor,changes,textarea,assert=require("./../test/assertions"),ace=(require("./../test/mockdom"),require("../ace"));module.exports={setUp:function(){editor||(editor=ace.edit(null),document.body.appendChild(editor.container),editor.container.style.height="200px",editor.container.style.width="300px",editor.container.style.position="absolute",editor.container.style.outline="solid",editor.on("change",function(e){changes.push(e)})),changes=[],editor.focus()},tearDown:function(){editor&&(editor.destroy(),editor.container.remove(),editor=textarea=null)},"test: simple text input":function(){editor.session.setValue("1\nerror 2 warning\n3\n4 info\n5\n6\n"),editor.execCommand("goToNextError"),editor.resize(!0),assert.ok(/Looks good/.test(editor.container.innerHTML)),editor.$search.$options.needle=/[a-z]+/gim;var e=editor.$search.findAll(editor.session);editor.session.setAnnotations(e.map(function(e){var t=editor.session.getTextRange(e);return{row:e.start.row,column:e.start.column,text:t+" "+e,type:t}})),editor.execCommand("goToNextError"),editor.renderer.$loop._flush(),assert.ok(/error_widget/.test(editor.container.innerHTML)),editor.execCommand("insertstring","\n"),editor.renderer.$loop._flush(),assert.notOk(/error_widget/.test(editor.container.innerHTML))}},"undefined"!=typeof module&&module===require.main&&require("asyncjs").test.testcase(module.exports).exec();