"use strict";var oop=require("../lib/oop"),HtmlHighlightRules=require("./html_highlight_rules").HtmlHighlightRules,JavaHighlightRules=require("./java_highlight_rules").JavaHighlightRules,JspHighlightRules=function(){HtmlHighlightRules.call(this);var e,t=[{token:"comment",regex:"<%--",push:"jsp-dcomment"},{token:"meta.tag",regex:"<%@?|<%=?|<%!?|<jsp:[^>]+>",push:"jsp-start"}],i=[{token:"meta.tag",regex:"%>|<\\/jsp:[^>]+>",next:"pop"},{token:"variable.language",regex:"request|response|out|session|application|config|pageContext|page|Exception"},{token:"keyword",regex:"page|include|taglib"}];for(e in this.$rules)this.$rules[e].unshift.apply(this.$rules[e],t);this.embedRules(JavaHighlightRules,"jsp-",i,["start"]),this.addRules({"jsp-dcomment":[{token:"comment",regex:".*?--%>",next:"pop"}]}),this.normalizeRules()};oop.inherits(JspHighlightRules,HtmlHighlightRules),exports.JspHighlightRules=JspHighlightRules;