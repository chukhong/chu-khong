"use strict";var oop=require("../lib/oop"),HtmlHighlightRules=require("./html_highlight_rules").HtmlHighlightRules;function pop2(e,t){return t.splice(0,3),t.shift()||"start"}var HandlebarsHighlightRules=function(){HtmlHighlightRules.call(this);var e,t={regex:"(?={{)",push:"handlebars"};for(e in this.$rules)this.$rules[e].unshift(t);this.$rules.handlebars=[{token:"comment.start",regex:"{{!--",push:[{token:"comment.end",regex:"--}}",next:pop2},{defaultToken:"comment"}]},{token:"comment.start",regex:"{{!",push:[{token:"comment.end",regex:"}}",next:pop2},{defaultToken:"comment"}]},{token:"support.function",regex:"{{{",push:[{token:"support.function",regex:"}}}",next:pop2},{token:"variable.parameter",regex:"[a-zA-Z_$][a-zA-Z0-9_$]*"}]},{token:"storage.type.start",regex:"{{[#\\^/&]?",push:[{token:"storage.type.end",regex:"}}",next:pop2},{token:"variable.parameter",regex:"[a-zA-Z_$][a-zA-Z0-9_$]*"}]}],this.normalizeRules()};oop.inherits(HandlebarsHighlightRules,HtmlHighlightRules),exports.HandlebarsHighlightRules=HandlebarsHighlightRules;