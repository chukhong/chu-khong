"use strict";var oop=require("../lib/oop"),HtmlMode=require("./html").Mode,TwigHighlightRules=require("./twig_highlight_rules").TwigHighlightRules,MatchingBraceOutdent=require("./matching_brace_outdent").MatchingBraceOutdent,Mode=function(){HtmlMode.call(this),this.HighlightRules=TwigHighlightRules,this.$outdent=new MatchingBraceOutdent};oop.inherits(Mode,HtmlMode),function(){this.blockComment={start:"{#",end:"#}"},this.getNextLineIndent=function(t,e,i){var n=this.$getIndent(e),o=this.getTokenizer().getLineTokens(e,t),h=o.tokens;o.state;return h.length&&"comment"==h[h.length-1].type||"start"==t&&e.match(/^.*[\{\(\[]\s*$/)&&(n+=i),n},this.checkOutdent=function(t,e,i){return this.$outdent.checkOutdent(e,i)},this.autoOutdent=function(t,e,i){this.$outdent.autoOutdent(e,i)},this.$id="ace/mode/twig"}.call(Mode.prototype),exports.Mode=Mode;