"use strict";var oop=require("../../lib/oop"),CStyleFoldMode=require("./cstyle").FoldMode,Range=require("../../range").Range,FoldMode=exports.FoldMode=function(){};oop.inherits(FoldMode,CStyleFoldMode),function(){this.importRegex=/^import /,this.getCStyleFoldWidget=this.getFoldWidget,this.getFoldWidget=function(e,t,i){if("markbegin"===t){var o=e.getLine(i);if(this.importRegex.test(o)&&(0==i||!this.importRegex.test(e.getLine(i-1))))return"start"}return this.getCStyleFoldWidget(e,t,i)},this.getCstyleFoldWidgetRange=this.getFoldWidgetRange,this.getFoldWidgetRange=function(e,t,i,o){var g=(d=e.getLine(i)).match(this.importRegex);if(!g||"markbegin"!==t)return this.getCstyleFoldWidgetRange(e,t,i,o);for(var t=g[0].length,r=e.getLength(),o=i,n=i;++i<r;){var d=e.getLine(i);if(!d.match(/^\s*$/)){if(!d.match(this.importRegex))break;n=i}}return o<n?(g=e.getLine(n).length,new Range(o,t,n,g)):void 0}}.call(FoldMode.prototype);