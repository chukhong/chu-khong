"use strict";var oop=require("../../lib/oop"),BaseFoldMode=require("./fold_mode").FoldMode,Range=require("../../range").Range,FoldMode=exports.FoldMode=function(e,o){this.regExpList=e,this.flag=o,this.foldingStartMarker=RegExp("^("+e.join("|")+")",this.flag)};oop.inherits(FoldMode,BaseFoldMode),function(){this.getFoldWidgetRange=function(e,o,t){for(var i=e.getLine(t),r={row:t,column:i.length},n=this.regExpList,g=1;g<=n.length;g++){var l=RegExp("^("+n.slice(0,g).join("|")+")",this.flag);if(l.test(i))break}for(var d=e.getLength();++t<d&&(i=e.getLine(t),!l.test(i)););if(t!=r.row+1)return new Range(r.row,r.column,t-1,i.length)}}.call(FoldMode.prototype);