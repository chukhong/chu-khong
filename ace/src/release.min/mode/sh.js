"use strict";var oop=require("../lib/oop"),TextMode=require("./text").Mode,ShHighlightRules=require("./sh_highlight_rules").ShHighlightRules,Range=require("../range").Range,CStyleFoldMode=require("./folding/cstyle").FoldMode,CstyleBehaviour=require("./behaviour/cstyle").CstyleBehaviour,Mode=function(){this.HighlightRules=ShHighlightRules,this.foldingRules=new CStyleFoldMode,this.$behaviour=new CstyleBehaviour};oop.inherits(Mode,TextMode),function(){this.lineCommentStart="#",this.getNextLineIndent=function(e,t,i){var n=this.$getIndent(t),o=this.getTokenizer().getLineTokens(t,e).tokens;return o.length&&"comment"==o[o.length-1].type||"start"==e&&t.match(/^.*[\{\(\[:]\s*$/)&&(n+=i),n};var r={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function(e,t,i){if("\r\n"!==i&&"\r"!==i&&"\n"!==i)return!1;var n=this.getTokenizer().getLineTokens(t.trim(),e).tokens;if(!n)return!1;do{var o=n.pop()}while(o&&("comment"==o.type||"text"==o.type&&o.value.match(/^\s+$/)));return!!o&&"keyword"==o.type&&r[o.value]},this.autoOutdent=function(e,t,i){var n=this.$getIndent(t.getLine(i+=1)),o=t.getTabString();n.slice(-o.length)==o&&t.remove(new Range(i,n.length-o.length,i,n.length))},this.$id="ace/mode/sh",this.snippetFileId="ace/snippets/sh"}.call(Mode.prototype),exports.Mode=Mode;