"use strict";var oop=require("../lib/oop"),TextMode=require("./text").Mode,YamlHighlightRules=require("./yaml_highlight_rules").YamlHighlightRules,MatchingBraceOutdent=require("./matching_brace_outdent").MatchingBraceOutdent,FoldMode=require("./folding/coffee").FoldMode,WorkerClient=require("../worker/worker_client").WorkerClient,Mode=function(){this.HighlightRules=YamlHighlightRules,this.$outdent=new MatchingBraceOutdent,this.foldingRules=new FoldMode,this.$behaviour=this.$defaultBehaviour};oop.inherits(Mode,TextMode),function(){this.lineCommentStart=["#"],this.getNextLineIndent=function(t,e,n){var o=this.$getIndent(e);return"start"==t&&e.match(/^.*[\{\(\[]\s*$/)&&(o+=n),o},this.checkOutdent=function(t,e,n){return this.$outdent.checkOutdent(e,n)},this.autoOutdent=function(t,e,n){this.$outdent.autoOutdent(e,n)},this.createWorker=function(e){var t=new WorkerClient(["ace"],"ace/mode/yaml_worker","YamlWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/yaml"}.call(Mode.prototype),exports.Mode=Mode;