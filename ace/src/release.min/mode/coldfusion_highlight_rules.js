"use strict";var oop=require("../lib/oop"),JavaScriptHighlightRules=require("./javascript_highlight_rules").JavaScriptHighlightRules,HtmlHighlightRules=require("./html_highlight_rules").HtmlHighlightRules,ColdfusionHighlightRules=function(){HtmlHighlightRules.call(this),this.$rules.tag[2].token=function(t,e){return["meta.tag.punctuation."+("<"==t?"":"end-")+"tag-open.xml",("cf"==e.slice(0,2)?"keyword":"meta.tag")+".tag-name.xml"]};var t=Object.keys(this.$rules).filter(function(t){return/^(js|css)-/.test(t)}),e=(this.embedRules({cfmlComment:[{regex:"\x3c!---",token:"comment.start",push:"cfmlComment"},{regex:"---\x3e",token:"comment.end",next:"pop"},{defaultToken:"comment"}]},"",[{regex:"\x3c!---",token:"comment.start",push:"cfmlComment"}],["comment","start","tag_whitespace","cdata"].concat(t)),this.$rules.cfTag=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"pop"}],{token:function(t,e){return["meta.tag.punctuation."+("<"==t?"":"end-")+"tag-open.xml","keyword.tag-name.xml"]},regex:"(</?)(cf[-_a-zA-Z0-9:.]+)",push:"cfTag"});t.forEach(function(t){this.$rules[t].unshift(e)},this),this.embedTagRules(new JavaScriptHighlightRules({jsx:!1}).getRules(),"cfjs-","cfscript"),this.normalizeRules()};oop.inherits(ColdfusionHighlightRules,HtmlHighlightRules),exports.ColdfusionHighlightRules=ColdfusionHighlightRules;