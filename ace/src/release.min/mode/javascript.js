"use strict";var oop=require("../lib/oop"),TextMode=require("./text").Mode,JavaScriptHighlightRules=require("./javascript_highlight_rules").JavaScriptHighlightRules,MatchingBraceOutdent=require("./matching_brace_outdent").MatchingBraceOutdent,WorkerClient=require("../worker/worker_client").WorkerClient,CstyleBehaviour=require("./behaviour/cstyle").CstyleBehaviour,CStyleFoldMode=require("./folding/cstyle").FoldMode,Mode=function(){this.HighlightRules=JavaScriptHighlightRules,this.$outdent=new MatchingBraceOutdent,this.$behaviour=new CstyleBehaviour,this.foldingRules=new CStyleFoldMode};oop.inherits(Mode,TextMode),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.getNextLineIndent=function(t,e,i){var n,o=this.$getIndent(e),r=this.getTokenizer().getLineTokens(e,t),a=r.tokens,r=r.state;if(!a.length||"comment"!=a[a.length-1].type)if("start"==t||"no_regex"==t)(n=e.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/))&&(o+=i);else if("doc-start"==t){if("start"==r||"no_regex"==r)return"";(n=e.match(/^\s*(\/?)\*/))&&(n[1]&&(o+=" "),o+="* ")}return o},this.checkOutdent=function(t,e,i){return this.$outdent.checkOutdent(e,i)},this.autoOutdent=function(t,e,i){this.$outdent.autoOutdent(e,i)},this.createWorker=function(e){var t=new WorkerClient(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}.call(Mode.prototype),exports.Mode=Mode;