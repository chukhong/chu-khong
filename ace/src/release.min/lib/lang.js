"use strict";exports.last=function(e){return e[e.length-1]},exports.stringReverse=function(e){return e.split("").reverse().join("")},exports.stringRepeat=function(e,r){for(var t="";0<r;)1&r&&(t+=e),(r>>=1)&&(e+=e);return t};var trimBeginRegexp=/^\s\s*/,trimEndRegexp=/\s\s*$/;exports.stringTrimLeft=function(e){return e.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(e){return e.replace(trimEndRegexp,"")},exports.copyObject=function(e){var r,t={};for(r in e)t[r]=e[r];return t},exports.copyArray=function(e){for(var r=[],t=0,n=e.length;t<n;t++)e[t]&&"object"==typeof e[t]?r[t]=this.copyObject(e[t]):r[t]=e[t];return r},exports.deepCopy=function e(r){if("object"!=typeof r||!r)return r;if(Array.isArray(r))for(var t=[],n=0;n<r.length;n++)t[n]=e(r[n]);else{if("[object Object]"!==Object.prototype.toString.call(r))return r;for(var n in t={},r)t[n]=e(r[n])}return t},exports.arrayToMap=function(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=1;return r},exports.createMap=function(e){var r,t=Object.create(null);for(r in e)t[r]=e[r];return t},exports.arrayRemove=function(e,r){for(var t=0;t<=e.length;t++)r===e[t]&&e.splice(t,1)},exports.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},exports.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(e,r){var t=[];return e.replace(r,function(e){t.push({offset:arguments[arguments.length-2],length:e.length})}),t},exports.deferredCall=function(e){function r(){n=null,e()}function t(e){return t.cancel(),n=setTimeout(r,e||0),t}var n=null;return(t.schedule=t).call=function(){return this.cancel(),e(),t},t.cancel=function(){return clearTimeout(n),n=null,t},t.isPending=function(){return n},t},exports.delayedCall=function(e,r){function t(){o=null,e()}function n(e){null==o&&(o=setTimeout(t,e||r))}var o=null;return n.delay=function(e){o&&clearTimeout(o),o=setTimeout(t,e||r)},(n.schedule=n).call=function(){this.cancel(),e()},n.cancel=function(){o&&clearTimeout(o),o=null},n.isPending=function(){return o},n};