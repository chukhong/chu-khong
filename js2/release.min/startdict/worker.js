var console={log:function(o){postMessage(o)},error:function(o){postMessage("Error: "+o)}};importScripts("pako_inflate.js"),importScripts("../stardict_sync.js"),onmessage=function(o){o=o.data;try{var e=new StarDict(o),s=[],n=[],t=e.synonyms({include_offset:!0,include_wid:!0,include_term:!0}),c=(console.log(t),console.log("Processing synonym offsets..."),t.forEach(function(o){s.push(o.offset)}),console.log(s),delete t,e.index({include_offset:!0,include_dictpos:!0,include_term:!0})),r=(console.log("Processing index offsets..."),c.forEach(function(o){n.push(o.offset)}),console.log(c),console.log("Retrieving some synonym..."),s.length/2|0),i=e.synonyms({start_offset:s[r]})[0],f=e.index({start_offset:n[i.wid]})[0],l=e.entry(f.dictpos);console.log("Entry for "+i.term+" ("+f.term+"):"),l.forEach(function(o){-1!="mgtxykwhr".indexOf(o.type)&&console.log(o.type+": "+o.content)})}catch(o){console.error("StarDict error: "+o.message)}};