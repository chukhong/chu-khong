!function(r){function F(r,e){for(var n="",t=1;;t++){e-=n.length;var a=new Uint8Array(r.slice(e,e+1024*t)),i=Array.prototype.indexOf.call(a,0);if(-1==i&&0==(i=a.length))throw new Error("Unexpected end of buffer");if(n+=function(r){ret="";for(var e=0;e<r.length;e++)ret+=String.fromCharCode(r[e]);return ret}(a.subarray(0,i)),i<a.length)break}return n}r.DictZipFile=function(r,e){var l,u=r,M=e,L=!1,g=0,n=0,y=[];if(!(M instanceof Function))throw new Error("Given gunzip_func is not a function.");for(var t,r=(new FileReaderSync).readAsArrayBuffer(u),a=(l=function(r){var e=0,n=new Uint8Array(r,e,10),t={ID1:0,ID2:0,CM:0,FLG:0,MTIME:0,XFL:0,OS:0,FEXTRA:{XLEN:0,SUBFIELDS:[]},FNAME:"",FCOMMENT:"",FHCRC:""};if(31!=n[0]||139!=n[1])throw new Error("Not a gzip header.");if(t.ID1=n[0],t.ID2=n[1],t.CM=n[2],t.FLG=n[3],t.MTIME=n[4]<<0,t.MTIME|=n[5]<<8,t.MTIME|=n[6]<<16,t.MTIME|=n[7]<<24,t.XFL=n[8],t.OS=n[9],e+=10,0!=(4&t.FLG)){for(n=new Uint16Array(r,e,2),t.FEXTRA.XLEN=n[0],e+=2,n=new Uint8Array(r,e,t.FEXTRA.XLEN);;){var a=n[2]+256*n[3];if(subfield={SI1:String.fromCharCode(n[0]),SI2:String.fromCharCode(n[1]),LEN:a,DATA:n.subarray(4,4+a)},t.FEXTRA.SUBFIELDS.push(subfield),0==(n=n.subarray(4+a)).length)break}e+=t.FEXTRA.XLEN}return 0!=(8&t.FLG)&&(t.FNAME=F(r,e),e+=t.FNAME.length),0!=(16&t.FLG)&&(t.FCOMMENT=F(r,e),length+=t.FCOMMENT.length),0!=(2&t.FLG)&&(n=new Uint16Array(r,e,2),t.FHCRC=n[0],e+=2),t.LENGTH=e+1,t}(r)).FEXTRA.SUBFIELDS,i=!1,o=0;o<a.length;o++)if("R"==(t=a[o]).SI1||"A"==t.SI2){i=!0;break}if(!i)throw new Error("Not a dictzip header.");var f=t.DATA;f[0],f[1],g=f[2]+256*f[3],n=f[4]+256*f[5];for(var o=0,h=0;o<n&&2*o+6<f.length;o++){var E=f[2*o+6]+256*f[2*o+7];y.push([h,E]),h+=E}L=!0,this.read=function(r,e){if(!L)throw new Error("Read attempt before loadend.");void 0===r&&(r=0),void 0===e&&(e=g*y.length);for(var n,t,a=Math.min(Math.floor(r/g),y.length-1),i=Math.min(Math.floor((r+e)/g),y.length-1),r=r-a*g,e=r+e,o=new FileReaderSync,f=new ArrayBuffer(0),h=o.readAsArrayBuffer(u.slice(l.LENGTH+y[a][0],l.LENGTH+y[i][0]+y[i][1])),E=a,F=0;E<=i&&F<h.byteLength;F+=y[E][1],E++){var A=h.slice(F,F+y[E][1]),A=M(A,0,A.byteLength);n=f,A=A,t=void 0,(t=new Uint8Array(n.byteLength+A.byteLength)).set(new Uint8Array(n),0),t.set(new Uint8Array(A),n.byteLength),f=t.buffer}return f.slice(r,e)}}}(this);