"use strict";var Range=require("ace/range").Range;function setSelection(e,t){"number"==typeof t[0]&&(t=[t]),e.selection.fromJSON(t.map(function(e){var t={row:e[0],column:e[1]},e=2==e.length?t:{row:e[2],column:e[3]};return 0<Range.comparePoints(t,e)?{start:e,end:t,isBackwards:!0}:{start:t,end:e,isBackwards:!0}}))}exports.getSelection=function(e){e=e.multiSelect.toJSON();return 1<(e=(e=e.length?e:[e]).map(function(e){var t,r;return e.isBackwards?(t=e.end,r=e.start):(r=e.end,t=e.start),Range.comparePoints(t,r)?[t.row,t.column,r.row,r.column]:[t.row,t.column]})).length?e:e[0]},exports.testSelection=function(e,t){assert.equal(getSelection(e)+"",t+"")},exports.setSelection=setSelection,exports.testValue=function(e,t){assert.equal(e.getValue(),t)},exports.setValue=function(e,t){e.setValue(t,1)},exports.titleCase=function(e){for(var t=e.toLowerCase().split(" "),r=0;r<t.length;r++)t[r]=t[r][0].toUpperCase()+t[r].slice(1);return t.join(" ")},exports.reSelected=function(e){setSelection(e,getSelection(e))},exports.getTextPreviousLine=function(e){var t=e.selection.getCursor().row;return e.selection.doc.$lines[t-1]};var VI0="[a-zA-ZáàãảạăắằẵẳặâấầẫẩậđéèẽẻẹêềếễểệùúũủụưừứữửựóòõỏọôồốỗổộơờớỡởìíĩỉịỳýỹỷỵÁÀÃẢẠĂẮẰẴẲẶÂẤẦẪẨẬĐÉÈẼẺẸÊỀẾỄỂỆÙÚŨỦỤƯỪỨỮỬỰÓÒÕỎỌÔỒỐỖỔỘƠỜỚỠỞÌÍĨỈỊỲÝỸỶỴ]",VI="("+VI0+"{1})";exports.autoSpellCheck=function(e,t){for(var r,n,o=[{re:/\s+/g,t:" "},{re:/‘|’/g,t:"'"},{re:/“|”/g,t:'"'},{re:/“|”/g,t:'"'},{re:/；/g,t:";"},{re:/：/g,t:": "},{re:/？/g,t:"? "},{re:/！/g,t:"! "},{re:/，|、/g,t:", "},{re:/。/g,t:". "},{re:/[《「『【]/g,t:"“"},{re:/[】』」》]/g,t:"” "},{re:/\. ”/g,t:"”. "},{re:new RegExp("([\\,\\.\\;\\!\\:\\?]{1})"+VI,"g"),t:"$1 $2"},{re:new RegExp("([\\.\\!\\:\\?]{1})\\s"+VI,"g"),t:e=>e=e.toUpperCase()},{re:new RegExp(VI+"\\s([\\.\\;\\!\\:\\?]{1})","g"),t:"$1$2"},{re:new RegExp("^"+VI,"g"),t:e=>e=e.toUpperCase()},{re:new RegExp(VI+"(\\s)([\\,\\.\\;\\!\\:\\?]{1})","g"),t:"$1$3"}],s=0;s<o.length;s++)0==t&&s==o.length-1||(r=o[s].re,n=o[s].t,e=e.replace(r,n));return e};