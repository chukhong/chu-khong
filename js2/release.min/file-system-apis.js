"use strict";!function(){let e,t,a;async function i(){[e]=await window.showOpenFilePicker({types:[{description:"Text Files",accept:{"text/plain":[".txt"]}}]}),a=await e.getFile(),t=await a.text(),fileName.innerText=a.name,editor.setValue(t),o.setAttribute("onclick","localDeviceSave"),$("#leftSidebar").offcanvas("hide")}async function n(e,t){e=await e.createWritable();await e.write(t),await e.close()}window.localDeviceRename=async function(){""!=editor.id&&"editor1"!=editor.id&&null!=editor.id||(await e.move(fileName.innerText.trim()),await n(e,editor.getValue()),console.log("rename"))},app.downloadFile=function(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent("\ufeff"+t)),a.setAttribute("download",e),document.body.appendChild(a),a.click(),document.body.removeChild(a)},window.localDeviceDownloadFile=function(){var e=fileName.innerText.trim(),t=editor.getValue();app.downloadFile(e,t)};let o,l;window.localDeviceSave=function(){"localDeviceSave"==o.getAttribute("onClick")&&n(e,editor.getValue()).then(function(){console.log("ðŸŽ‰ Successfully saved to disk!"),app.toast.message("Local Deviece","ðŸŽ‰ Successfully saved to disk!").show()})},app.addEvent=()=>{o=d.q("[data-cmd-as=save]"),(l=d.q("[data-cmd-left-side-as=openFile]")).addEventListener("click",i),o.addEventListener("click",window.localDeviceSave)},app.addEvent()}();